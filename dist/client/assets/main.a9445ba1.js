import{a as m}from"./index.a2e70da6.js";const d=document.getElementById("searchForm-js"),h=document.getElementById("searchInput-js"),n=document.getElementById("results-js"),r=document.getElementById("suggestion-js"),c=document.getElementById("loader-js"),l=document.querySelector("#withoutWiki-js");(function(){const t=window.location.search,a=new URLSearchParams(t).get("search");a&&u(a)})();d==null||d.addEventListener("submit",async t=>{t.preventDefault();const e=h.value;u(e)});async function u(t){c&&(c.className="lds-ellipsis"),n.innerHTML="";const e=await m.get(`/api/search/${t}`);if(e.status===200){if(e.data.suggestion){r.innerHTML="Wikip\xE9dia vour sugg\xE8re d'essayer avec : ";const s=document.createElement("a");s.textContent=e.data.suggestion,s.setAttribute("href",`/?search=${e.data.suggestion}`),r.appendChild(s)}else r.innerHTML="";const a=e.data.results;n.innerHTML="",a.forEach(s=>{const o=document.createElement("li");o.classList.add("results_itm");const i=document.createElement("a");i.classList.add("results_link"),i.setAttribute("href",`/slide/index.html?id=${s.pageid}`),i.textContent=s.title,o.appendChild(i),n==null||n.appendChild(o)}),l&&(l.className="withoutWiki-active",l.setAttribute("href",`/slide/index.html?search=${t}`))}e&&c&&(c.className="lds-ellipsis-inactive")}
