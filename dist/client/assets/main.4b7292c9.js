import{a as u}from"./index.a2e70da6.js";const r=document.getElementById("searchForm-js"),m=document.getElementById("searchInput-js"),n=document.getElementById("results-js"),d=document.getElementById("suggestion-js"),c=document.getElementById("loader-js");(function(){const s=window.location.search,a=new URLSearchParams(s).get("search");a&&l(a)})();r==null||r.addEventListener("submit",async s=>{s.preventDefault();const e=m.value;l(e)});async function l(s){c&&(c.className="lds-ellipsis"),n.innerHTML="";const e=await u.get(`/api/search/${s}`);if(e.status===200){if(e.data.suggestion){d.innerHTML="Wikip\xE9dia vour sugg\xE8re d'essayer avec : ";const t=document.createElement("a");t.textContent=e.data.suggestion,t.setAttribute("href",`/?search=${e.data.suggestion}`),d.appendChild(t)}else d.innerHTML="";const a=e.data.results;n.innerHTML="",a.forEach(t=>{const o=document.createElement("li");o.classList.add("results_itm");const i=document.createElement("a");i.classList.add("results_link"),i.setAttribute("href",`/slide/index.html?search=${t.pageid}`),i.textContent=t.title,o.appendChild(i),n==null||n.appendChild(o)})}e&&c&&(c.className="lds-ellipsis-inactive")}
